<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Space Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script defer src="js/supabase.js"></script>
  <script defer src="js/auth.js"></script>
  <script defer src="js/game.js"></script>
</head>

<body>
  <div class="app">

    <!-- PANEL FIJO -->
    <aside class="sidebar">

      <div class="player">
        <div class="avatar">ðŸš€</div>
        <div>
          <h2 id="player-name">Comandante</h2>
          <small id="player-location">â€”</small>
        </div>
      </div>

      <div class="stats">
        <div class="stat">
          <span>CrÃ©ditos</span>
          <span id="player-credits">0</span>
        </div>
        <div class="stat">
          <span>EnergÃ­a</span>
          <span id="player-energy">â€”</span>
        </div>
        <button onclick="logout()">Logout</button>
      </div>

      <div class="movement">
        <h3>Mover nave</h3>
        <input type="number" id="move-x" placeholder="X" />
        <input type="number" id="move-y" placeholder="Y" />
        <button onclick="handleMove()">Mover</button>
        <div id="player-coords"></div>
      </div>

      <div id="travel-status" class="travel-status"></div>

<button id="move-button" onclick="handleMove()">
  Mover nave
</button>

      <div class="ship">
        <h3 id="ship-name"></h3>

        <div class="bar-group">
          <small>BaterÃ­as</small>
          <div class="bar battery">
            <div id="battery-bar"></div>
            <span id="battery-text"></span>
          </div>
        </div>

        <div class="bar-group">
          <small>Carga</small>
          <div class="bar cargo">
            <div id="cargo-bar"></div>
            <span id="cargo-text"></span>
          </div>
        </div>

        <div class="bar-group">
          <small id="defense-label"></small>
          <div class="bar defense">
            <div id="defense-bar"></div>
            <span id="defense-text"></span>
          </div>
        </div>
      </div>


    </aside>

    <!-- ZONA DINÃMICA -->
    <main class="main">

      <div class="location">
        <div>
          <h1 id="system-name">Sistema</h1>
          <small id="galaxy-name">Galaxia</small>
        </div>
      </div>

      <section class="zone">
        <h2>Objetos disponibles</h2>
        <div class="objects" id="objects-container">
          <!-- Se llena por JS -->
        </div>
      </section>

    </main>

  </div>

  <div id="debug-panel" class="debug-panel">
  <h3>ðŸ“¡ Objetos detectados</h3>
  <pre id="debug-log"></pre>

</div>
</body>

</html>