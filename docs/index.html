<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Space Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="css/style.css" />

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script type="module" src="js/main.js"></script>
</head>

<body>
  <div class="game-layout">

    <!-- TOP BAR -->
    <section class="game-topbar">

      <!-- LEFT: SHIP -->
      <aside class="panel">
        <div class="panel-inner">
          <h3 style="margin:0 0 10px 0; color: rgba(255,255,255,0.65);">Nave</h3>
          <div id="ship-name" style="font-weight:800; font-size:16px;"></div>

          <div class="bar-group">
            <small>BaterÃ­as</small>
            <div class="bar battery">
              <div id="battery-bar"></div>
              <span id="battery-text"></span>
            </div>
          </div>

          <div class="bar-group">
            <small>Carga</small>
            <div class="bar cargo">
              <div id="cargo-bar"></div>
              <span id="cargo-text"></span>
            </div>
          </div>

          <div class="bar-group">
            <small id="defense-label"></small>
            <div class="bar defense">
              <div id="defense-bar"></div>
              <span id="defense-text"></span>
            </div>
          </div>
        </div>
      </aside>

      <!-- CENTER: MOVEMENT / STATUS -->
      <section class="panel">
        <div class="panel-inner">
          <h3 style="margin:0 0 10px 0; color: rgba(255,255,255,0.65);">Movimiento</h3>

          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <input type="number" id="move-x" placeholder="X" style="flex: 1 1 120px;" />
            <input type="number" id="move-y" placeholder="Y" style="flex: 1 1 120px;" />
            <button id="move-btn" type="button" class="btn primary" style="flex: 1 1 140px;">Mover</button>
          </div>

          <div id="travel-status" style="margin-top:10px;"></div>
          <div id="player-coords" style="margin-top:6px; color: rgba(255,255,255,0.80);"></div>
        </div>
      </section>

      <!-- RIGHT: PLAYER -->
      <aside class="panel">
        <div class="panel-inner">
          <div style="display:flex; align-items:center; gap:10px;">
            <div style="font-size:26px;">ðŸš€</div>
            <div>
              <div id="player-name" style="font-weight:900; font-size:16px;">Comandante</div>
              <div id="player-location" style="color: rgba(255,255,255,0.65); font-size:13px;">â€”</div>
            </div>
          </div>

          <div class="kv">
            <span>CrÃ©ditos</span>
            <span id="player-credits">0</span>
          </div>

          <div style="display:grid; gap:10px; margin-top:12px;">
            <button id="logout-btn" type="button" class="btn">Logout</button>
            <button id="delete-character-btn" type="button" class="btn danger">Eliminar personaje</button>
          </div>
        </div>
      </aside>

    </section>

    <!-- MAIN -->
    <main class="game-main">
      <section class="panel">
        <div class="panel-inner">
          <h2 style="margin:0 0 10px 0;">Objetos disponibles</h2>
          <div id="objects-container" class="objects"></div>
        </div>
      </section>
    </main>

  </div>
</body>
</html>
